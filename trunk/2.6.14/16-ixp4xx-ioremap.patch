--- linux-2.6.14-rc5/drivers/mtd/maps/ixp4xx.c	2005-10-26 08:37:21.960361430 -0700
+++ patched/drivers/mtd/maps/ixp4xx.c	2005-10-26 12:13:13.879374310 -0700
@@ -227,7 +227,7 @@ static int ixp4xx_flash_probe(struct dev
 		goto Error;
 	}
 
-	info->map.map_priv_1 = ioremap(dev->resource->start,
+	info->map.map_priv_1 = (unsigned long)ioremap(dev->resource->start,
 			    dev->resource->end - dev->resource->start + 1);
 	if (!info->map.map_priv_1) {
 		printk(KERN_ERR "IXP4XXFlash: Failed to ioremap region\n");
