http://www.arm.linux.org.uk/developer/patches/viewpatch.php?id=3344/1

NSLU2 beeper support.

Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>

 arch/arm/mach-ixp4xx/nslu2-setup.c |    7 +++++++
 1 file changed, 7 insertions(+)

--- linux-nslu2.orig/arch/arm/mach-ixp4xx/nslu2-setup.c	2006-02-06 20:37:01.000000000 +0100
+++ linux-nslu2/arch/arm/mach-ixp4xx/nslu2-setup.c	2006-02-06 22:21:17.000000000 +0100
@@ -52,6 +52,12 @@ static struct platform_device nslu2_i2c_
 	.num_resources		= 0,
 };
 
+static struct platform_device nslu2_beeper = {
+	.name			= "ixp4xx-beeper",
+	.id			= NSLU2_GPIO_BUZZ,
+	.num_resources		= 0,
+};
+
 static struct resource nslu2_uart_resources[] = {
 	{
 		.start		= IXP4XX_UART1_BASE_PHYS,
@@ -99,6 +105,7 @@ static struct platform_device *nslu2_dev
 	&nslu2_i2c_controller,
 	&nslu2_flash,
 	&nslu2_uart,
+	&nslu2_beeper,
 };
 
 static void nslu2_power_off(void)
